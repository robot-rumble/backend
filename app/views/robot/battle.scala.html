@import models.Schema._
@(battle: Battle, r1: Robot, r2: Robot, userTeam: Option[String], assetsFinder: AssetsFinder)(implicit request: Request[AnyContent])

@main(s"Battle: ${r1.name} vs ${r2.name}", "battle", assetsFinder) {
    <link rel="stylesheet" type="text/css" href="@assetsFinder.path("dist/battle_css.css")">
    <script src="@assetsFinder.path("dist/battle_js.js")" type="text/javascript"></script>

    <h1 class="mb-3 text-center"><span class="text-blue">@r1.name</span> vs <span class="text-red">@r2.name</span></h1>
    <h3 class="mb-5 text-center">
        @(battle.winner, battle.errored) match {
            case (Some(Team.R1), false) => {
                Winner: @r1.name
            }
            case (Some(Team.R2), false) => {
                Winner: @r2.name
            }
            case (None, false) => {
                Draw
            }

            case (Some(Team.R1), true) => {
                Winner: @r1.name, @r2.name errored
            }
            case (Some(Team.R2), true) => {
                Winner: @r2.name, @r1.name errored
            }
            case (None, true) => {
                Draw, both robots errored
            }
        }
    </h3>

    <battle-el data="@battle.data" team="@userTeam"></battle-el>
}

